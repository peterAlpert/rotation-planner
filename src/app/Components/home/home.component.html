<div class="row m-3 p-3" dir="rtl">
    <!-- ุงูุนููุฏ ุงููููู: ุงููุดุฑููู + ุงูููุชุฑูู -->
    <div class="col-3">
        <h4 class="text-center">๐จโ๐ผ ุงููุดุฑููู</h4>
        <div cdkDropList id="supervisors" [cdkDropListData]="supervisors"
            [cdkDropListConnectedTo]="connectedSupervisorLists" (cdkDropListDropped)="drop($event)" class="list">
            <div class="row">
                <div class="col-6" *ngFor="let sup of supervisors" cdkDrag>
                    <div class="item supervisor text-center">{{ sup.name }}</div>
                </div>
            </div>
        </div>

        <h4 class="text-center mt-4">๐ฏ ุงูููุชุฑูู</h4>
        <div cdkDropList id="controllers" [cdkDropListData]="controllers"
            [cdkDropListConnectedTo]="connectedControllerLists" (cdkDropListDropped)="drop($event)" class="list">
            <div class="row">
                <div class="col-6" *ngFor="let ctrl of controllers" cdkDrag>
                    <div class="item controller text-center">{{ ctrl.name }}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงูุนููุฏ ุงูุดูุงู: ุงูููุงุทู -->
    <div class="col-9">
        <div class="row">
            <!-- ุงูุตู ุงูุฃูู: ุตุจุงุญู + ุจุชููู -->
            <!-- ุงูุตู ููุฌุฒุก ุงูุตุจุงุญู ููุณูู ุฌุฒุฆูู -->
            <div class="col-md-6 mb-4">
                <div class="area-card p-3" [style.borderColor]="'#6f42c1'" cdkDropList id="morning-shift-sup"
                    [cdkDropListData]="areas[0].supervisors" [cdkDropListConnectedTo]="connectedSupervisorLists"
                    (cdkDropListDropped)="drop($event)">

                    <h1 class="fw-bold text-center mb-3 text-light">ุดููุช ุตุจุงุญู</h1>

                    <!-- ุงููุดุฑู (ูุดุชุฑู ุจูู ุงูุฌุฒุฆูู) -->
                    <h4 class="fw-bold text-center mb-3" style="color:#6f42c1">
                        ๐จโ๐ผ
                        <span *ngIf="areas[0].supervisors.length > 0" class="fs-1">{{ areas[0].supervisors[0].name
                            }}</span>
                        <span *ngIf="areas[0].supervisors.length === 0">ุจุฏูู ูุดุฑู</span>
                    </h4>

                    <!-- ุชูุณูู ุฏุงุฎูู ุฅูู ุฌุฒุฆูู -->
                    <div class="row">
                        <!-- ุฌุฒุก ุตุจุงุญู -->
                        <div class="col-6">
                            <h5 class="text-center text-light">ุตุจุงุญู</h5>
                            <div cdkDropList id="morning-sup" [cdkDropListData]="areas[0].controllersMorning"
                                [cdkDropListConnectedTo]="connectedControllerLists" (cdkDropListDropped)="drop($event)"
                                class="list">
                                <div class="row">
                                    <div class="col-12 mb-2" *ngFor="let ctrl of areas[0].controllersMorning" cdkDrag>
                                        <div class="item controller text-center">{{ ctrl.name }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ุฌุฒุก ุจุชููู -->
                        <div class="col-6">
                            <h5 class="text-center text-light">ุจุชููู</h5>
                            <div cdkDropList id="between-sup" [cdkDropListData]="areas[0].controllersBetween"
                                [cdkDropListConnectedTo]="connectedControllerLists" (cdkDropListDropped)="drop($event)"
                                class="list">
                                <div class="row">
                                    <div class="col-12 mb-2" *ngFor="let ctrl of areas[0].controllersBetween" cdkDrag>
                                        <div class="item controller text-center">{{ ctrl.name }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- ุจุงูู ุงูููุงุทู -->
            <div class="col-md-6 mb-4" *ngFor="let area of areas | slice:2">
                <div class="area-card p-3" [style.borderColor]="area.color" cdkDropList [id]="area.name + '-sup'"
                    [cdkDropListData]="area.supervisors" [cdkDropListConnectedTo]="connectedSupervisorLists"
                    (cdkDropListDropped)="drop($event)" class="list" [class.drop-hover]="area.supervisors.length < 1">

                    <h1 class="fw-bold text-center mb-3 text-light">{{area.name}}</h1>

                    <!-- ุงููุดุฑู -->
                    <h4 class="fw-bold text-center mb-3" [style.color]="area.color">
                        ๐จโ๐ผ
                        <span *ngIf="area.supervisors.length > 0" class="fs-1">{{ area.supervisors[0].name }}</span>
                        <span *ngIf="area.supervisors.length === 0">ุจุฏูู ูุดุฑู</span>
                    </h4>

                    <!-- ุงูููุชุฑูู -->
                    <h6 class="text-light text-center mt-3">๐ฏ ุงูููุชุฑูู ({{area.controllers.length}})</h6>
                    <div cdkDropList [id]="area.name + '-ctrl'" [cdkDropListData]="area.controllers"
                        [cdkDropListConnectedTo]="connectedControllerLists" (cdkDropListDropped)="drop($event)"
                        class="list">
                        <div class="row">
                            <div class="col-6 col-md-6 mb-2" *ngFor="let ctrl of area.controllers" cdkDrag>
                                <div class="item controller text-center">{{ ctrl.name }}</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <!-- ุฃุฒุฑุงุฑ ุซุงุจุชุฉ -->
    <div class="fixed-buttons text-center">
        <button class="btn btn-success" (click)="saveDistribution()">๐พ ุญูุธ</button>
        <button class="btn btn-info" (click)="loadDistribution()">๐ ุชุญููู</button>
        <button class="btn btn-warning" (click)="resetDistribution()">โป๏ธ ุฅุนุงุฏุฉ</button>
        <button class="btn btn-success" (click)="exportToWord()">๐ฅ ุชุตุฏูุฑ Word</button>
    </div>
</div>